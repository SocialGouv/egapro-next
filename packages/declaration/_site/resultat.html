<!DOCTYPE html>
<html lang="fr" class="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<title>Publication des résultats - Egalité professionnelle - Ministère du Travail</title>
<link rel="stylesheet" href="/declaration/assets/css/egapro.css">

<style>
  span.profil {
    -webkit-box-align: center;
    -webkit-box-pack: center;
    align-items: center;
    background: #a0aec0;
    border: 0 solid #fff;
    border-radius: 9999px;
    box-sizing: border-box;
    color: #1a202c;
    cursor: pointer;
    display: inline-flex;
    flex-shrink: 0;
    font-family: Cabin, -apple-system, sans-serif;
    font-size: calc(.8rem);
    font-weight: 500;
    height: 2rem;
    justify-content: center;
    line-height: 19.2px;
    overflow-wrap: break-word;
    position: relative;
    text-align: center;
    text-transform: uppercase;
    vertical-align: top;
    width: 2rem;
    word-wrap: break-word;
  }

  svg.profil {
    border: 0 solid #e2e8f0;
    box-sizing: border-box;
    color: #fff;
    cursor: pointer;
    display: block;
    font-family: Cabin, -apple-system, sans-serif;
    font-size: 12.8px;
    font-weight: 500;
    height: 100%;
    line-height: 19.2px;
    overflow-wrap: break-word;
    text-align: center;
    text-transform: uppercase;
    width: 100%;
    word-wrap: break-word;
  }
</style>

<script>
  // First, check the browser is compatible
  try {
    eval("async function _(){}")
  }
  catch (e) {
    if (!window.location.href.endsWith('/compatibilite.html')) {
      window.location.href = '/declaration/compatibilite.html'
    }
  }
</script>


<script src="/declaration/assets/js/sentry.min.js"
  integrity="sha384-ir4+BihBClNpjZk3UKgHTr0cwRhujAjy/M5VEGvcOzjhM1Db79GAg9xLxYn4uVK4" crossorigin="anonymous"></script>
<script>
  if (typeof Sentry !== "undefined") {
    Sentry.init({
      dsn: 'https://b2f84ee9dc6044abbeb0f417f4335a26@sentry.fabrique.social.gouv.fr/48',
      release: '2022.05.10'
    })
  }
</script>





<script src="/declaration/assets/js/utils.js"></script>

<script>
  function redirectOnAuthentification() {
    if (confirm('Vous allez être redirigé pour vous connnecter. Voulez-vous vous continuer ?')) {
      window.location.href = '/declaration/tableauDeBord/me-connecter'
    }
  }
</script>

<header>
  <div>
    <a href="https://travail-emploi.gouv.fr/" target="_blank"><img src="/declaration/assets/img/marianne.svg"
        alt="Marianne"></a>
    <hgroup>
      <h1><a href="https://index-egapro.travail.gouv.fr/" target="_blank">Index Egapro</a></h1>
    </hgroup>
    <p>
      <!-- &#8209; is an unbreakable hyphen not to split the word -->
      L’outil de calcul et de déclaration de votre index égalité professionnelle Femmes&#8209;Hommes
    </p>

    <!-- TODO : voir s'il faut ajouter ce moyen de se connecter à partir du site de déclaration-directe. Si oui, ajouter dans body > header div => `justify-content: center`
    <div onClick="redirectOnAuthentification()">
      <span class="profil">
        <svg viewBox="0 0 128 128" class="profil" role="img" aria-label=" avatar">
          <path fill="currentColor"
            d="M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z">
          </path>
          <path fill="currentColor"
            d="M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24">
          </path>
        </svg>
      </span>
    </div>
    -->
  </div>
</header>

<form class="main" id="page-form" action="#">
  <section id="declaration-readonly" class="declaration-mode" hidden>
  <p>
    Cette déclaration a été validée et transmise.
  </p>
  <p>
    Vous pouvez la modifier et elle remplacera la déclaration actuelle une fois à nouveau validée et transmise à la dernière étape.
  </p>
  <button type="button" onclick="setDraftStatus()">Modifier la déclaration</button>
  <button type="button" onclick="resendReceipt()">Renvoyer l'accusé de réception</button>
</section>

<section id="declaration-draft" class="declaration-mode" hidden>
  <p>
    Vous êtes en train de modifier une déclaration validée et transmise.<br>
    Vos modifications ne seront enregistrées que lorsque vous l'aurez à nouveau validée et transmise à la dernière étape.
  </p>
</section>

<section id="simulation-readonly" class="declaration-mode" hidden>
  <p>
    Cette déclaration a été validée et transmise depuis le formulaire de calcul et déclaration.
  </p>
  <p>
    Vous pouvez la consulter ici mais si vous souhaitez la modifier, vous devez le faire depuis le formulaire de calcul et déclaration.
  </p>
  <button type="button" onclick="goToSimulationApp()">Modifier ma déclaration</button>
</section>

<main>
  <h1>
  <span class="year-2021-and-after">Publication des résultats obtenus</span>
  <span class="year-2020-and-before">Publication du niveau de résultat global</span>
</h1>

<p style="text-align: justify; text-justify: inter-word;">
  <span class="year-2021-and-after">Le niveau de résultat global obtenu et les résultats obtenus pour chaque
    indicateur sont publiés annuellement, au plus tard le 1er mars de l’année
    en cours, au titre de l’année précédente, de manière visible et lisible,
    sur le site Internet de l’entreprise lorsqu’il en existe un.  A défaut de
    site Internet, ils sont portés à la connaissance des salariés par tout
    moyen.</span>
  <span class="year-2020-and-before">Le niveau de résultat est publié annuellement, au plus tard le 1er mars de
    l’année en cours, au titre de l’année précédente, sur le site Internet de
    l’entreprise lorsqu’il en existe un. À défaut, il est porté à la connaissance
    des salariés par tout moyen.</span>
</p>

<fieldset>
  <div class=row>
    
  
<label for="field--déclaration.publication.date"><span class='year-2021-and-after'>Date de publication des résultats obtenus<span class='non-calculable'> aux indicateurs calculables</span></span><span class='year-2020-and-before'>Date de publication du niveau de résultat obtenu</span>*</label>




  <input
    id="field--déclaration.publication.date"
    value=""
    type="date"
    name="déclaration.publication.date"
    placeholder="aaaa-mm-jj"
    
    
    
    
    required
    
    pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"
    
    
    
    
    oninput="checkDate(event)"
    
    
  />


  </div>
</fieldset>

<fieldset>
  <div class=row>
    <div>
      
<label for="field--_déclaration.publication.site_internet"><span class='year-2021-and-after'>Avez-vous un site Internet pour publier les résultats obtenus<span class='non-calculable'> aux indicateurs calculables</span> ?</span><span class='year-2020-and-before'>Avez-vous un site Internet pour publier le niveau de résultat obtenu</span></label>


<div
  id="field--_déclaration.publication.site_internet"
  name="_déclaration.publication.site_internet"
  type="radiogroup"
  >
  
     
    
      
      
      <label>
        <input
          required
          type="radio"
          onchange="toggleFields()"
          name="_déclaration.publication.site_internet" value="oui"> oui
      </label>
      
    
      
      
      <label>
        <input
          required
          type="radio"
          onchange="toggleFields()"
          name="_déclaration.publication.site_internet" value="non"> non
      </label>
      
    
  
</div>

    </div>
  </div>
</fieldset>

<fieldset id="fieldset-url">
  <div>
  
<label for="field--déclaration.publication.url"><span class='year-2021-and-after'>Indiquer l'adresse exacte de la page Internet (URL) sur laquelle seront publiés les résultats obtenus<span class='non-calculable'> aux indicateurs calculables</span></span><span class='year-2020-and-before'>Indiquer l'adresse exacte de la page Internet (URL) sur laquelle sera publié le niveau de résultat obtenu</span>*</label>




  <input
    id="field--déclaration.publication.url"
    value=""
    type=""
    name="déclaration.publication.url"
    placeholder=""
    class="wide"
    
    
    
    required
    
    
    
    
    
    
    
    
    
  />

</div>
</fieldset>

<fieldset id="fieldset-modalites">
  <div>
<label for="field--déclaration.publication.modalités"><span class='year-2021-and-after'>Préciser les modalités de communication des résultats obtenus<span class='non-calculable'> aux indicateurs calculables</span> auprès de vos salariés</span><span class='year-2020-and-before'>Préciser les modalités de communication du niveau de résultat obtenu auprès de vos salariés</span>*</label>


<textarea
  id="field--déclaration.publication.modalités"
  name="déclaration.publication.modalités"
  placeholder=""
  class="wide"
  required
></textarea>
</div>
</fieldset>


<!-- Only visible for 2021 and after -->

<fieldset style="display: none" id="plan_relance">
  <div class=row>
    <div>
      
<label for="field--_entreprise.plan_relance"><span class='ues'>Une ou plusieurs entreprises comprenant au moins 50 salariés au sein de l’UES a-t-elle bénéficié, en 2021 et/ou 2022, d’une aide prévue par la loi du 29 décembre 2020 de finances pour 2021 au titre de la mission « Plan de relance » ?</span><span class='entreprise'>Avez-vous bénéficié, en 2021 et/ou 2022, d’une aide prévue par la loi du 29 décembre 2020 de finances pour 2021 au titre de la mission « Plan de relance » ?</span></label>


<div
  id="field--_entreprise.plan_relance"
  name="_entreprise.plan_relance"
  type="radiogroup"
  >
  
     
    
      
      
      <label>
        <input
          required
          type="radio"
          
          name="_entreprise.plan_relance" value="true"> oui
      </label>
      
    
      
      
      <label>
        <input
          required
          type="radio"
          
          name="_entreprise.plan_relance" value="false"> non
      </label>
      
    
  
</div>

    </div>
  </div>
</fieldset>

<script>
  const siteInternetField = selectField('_déclaration.publication.site_internet')

  // We use an extra input to store the value of plan_relance in "true" or "false" instead of real boolean values.
  function loadFakePlanRelance() {
    if (app.data._entreprise === undefined) {
      app.data._entreprise = {}
    }

    if (app.data.entreprise.plan_relance === true) {
      app.data._entreprise.plan_relance = "true"
    } else if (app.data.entreprise.plan_relance === false){
      app.data._entreprise.plan_relance = "false"
    }
  }

  document.onready = () => {
    loadFakePlanRelance()

    const inputsPlanRelance = document.querySelectorAll("input[name='_entreprise.plan_relance']")

    if (app.data.déclaration.année_indicateurs < 2021) {
      inputsPlanRelance.forEach(input => {
        // To prevent to have validation on this radio input whereas it is not present on the screen.
        input.required = false
      })

    } else {
      inputsPlanRelance.forEach(input => {
        input.required = true
      });

      document.querySelector("#plan_relance").style.display = "block"
      if (app.data.entreprise.ues) {
        document.querySelector(".ues").style.display = "inline"
        document.querySelector(".entreprise").style.display = "none"
      } else {
        document.querySelector(".ues").style.display = "none"
        document.querySelector(".entreprise").style.display = "inline"
      }

    }

    if (app.getItem('déclaration.publication')) {
      // We did already submit this current form, so we can infer the
      // "_indicateurs.déclaration.publication.site_internet" data.
      if (!app.data._déclaration) app.data._déclaration = {}
      app.data._déclaration.publication = {site_internet: app.data.déclaration.publication.url ? "oui" : "non"}
    }

    // To compute the minimum publication date, we either take the
    // `déclaration.fin_période_référence` or if it's undefined, the end of
    // civil year of `déclaration.année_indicateurs`
    const endCivilYear = `${app.data.déclaration.année_indicateurs}-12-31`
    const minPubDate = new Date(app.data.déclaration.fin_période_référence || endCivilYear)

    // add a day to minPubDate
    minPubDate.setDate(minPubDate.getDate() + 1)

    // The `min` value should be formatted like yyyy-mm-dd
    selectField("déclaration.publication.date").min = minPubDate.toISOString().slice(0, 10)

    // Display the label "aux indicateurs calculables" if the result is non calculable but still needs to be declared.
    if (app.data.déclaration.année_indicateurs >= 2020) {
      const main = document.querySelector("main")
      main.classList.add("declaration-2021-and-after")
      if (app.data.déclaration.points_calculables < 75) {
        main.classList.add("resultat-non-calculable")
      }

    }
  }

  function toggleFields() {
    const hasSiteInternetChosen = siteInternetField.querySelector(':checked')
    const hasSiteInternet = hasSiteInternetChosen && siteInternetField.querySelector(':checked').value === 'oui'
    enableField('#fieldset-url', hasSiteInternet)
    enableField('#fieldset-modalites', hasSiteInternetChosen && !hasSiteInternet)
  }

  document.onloaded = () => {
    toggleFields()
  }


  document.onsend = data => {
    // We restore a real boolean value for plan_relance from the fake one.
    if (data && data._entreprise && data._entreprise.plan_relance) {
      data.entreprise.plan_relance = data._entreprise.plan_relance === "true" ? true : false
    }
  }

</script>

</main>

<nav id="tunnel-actions">
  
  <a class=button rel=prev>Précédent</a>
  
  <progress max=0 value=0></progress>
  
  <button rel=next>Suivant</button>
  
</nav>

<!-- tunnel.js uses DOM and should be loaded last -->
<script src="/declaration/assets/js/tunnel.js"></script>

</form>

<footer>
  <header>
    <a href="https://travail-emploi.gouv.fr/" target="_blank">
      <img src="/declaration/assets/img/marianne.svg" alt="Marianne">
    </a>
  </header>
  <nav>
    <a href="https://travail-emploi.gouv.fr/IMG/xlsx/referents_egalite_professionnelle.xlsx" target="_blank" rel="noopener noreferrer">Télécharger la liste des référents Egapro (XLSX, 22 Ko)</a>
    <a href="https://index-egapro.travail.gouv.fr/mentions-legales">Mentions légales</a>
    <a href="https://index-egapro.travail.gouv.fr/cgu">Conditions générales d'utilisation</a>
    <a href="https://index-egapro.travail.gouv.fr/politique-confidentialite">Politique de confidentialité</a>
  </nav>
  <footer>
    <p>
      Index Egapro a été développé par les équipes de la fabrique numérique des ministères sociaux. Pour nous aider à
      l'améliorer
      <a href="https://voxusagers.numerique.gouv.fr/Demarches/2240?&amp;view-mode=formulaire-avis&amp;nd_mode=en-ligne-enti%C3%A8rement&amp;nd_source=button&amp;key=73366ddb13d498f4c77d01c2983bab48"
        target="_blank" rel="noopener noreferrer">donnez-nous votre avis</a> ou <a
        href="https://github.com/SocialGouv/egapro-declaration/tree/2022.05.10" target="_blank"
        rel="noopener noreferrer">contribuez sur Github</a>
    </p>
  </footer>
</footer>

<div id="toast">
  <div class=content>
    <span class=message></span>
    <a href="#" onclick="notify.close(event)" class=close>x</a>
  </div>
</div>

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function () {
    var u = "//matomo.fabrique.social.gouv.fr/";
    _paq.push(['setTrackerUrl', u + 'matomo.php']);
    _paq.push(['setSiteId', '11']);
    var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
    g.type = 'text/javascript'; g.async = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
  })();
</script>
<!-- End Matomo Code -->

</html>